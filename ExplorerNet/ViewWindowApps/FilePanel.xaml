<UserControl x:Class="ExplorerNet.ViewWindowApps.FilePanel"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:uc="http://www.quickzip.org/UserControls"
    xmlns:ucc="clr-namespace:QuickZip.IO.PIDL.UserControls;assembly=QuickZip.IO.PIDL.UserControls"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
             BorderBrush="Green"
             BorderThickness="7"
             Background="DarkKhaki"
             x:Name="filePanel"
     Width="300" Height="300"  >
    <UserControl.Resources>
        <ucc:ExToStringConverter x:Key="ets" />
    </UserControl.Resources>
    <Grid>
        <Thumb Name="tmbMove" Cursor="SizeWE" DragDelta="tmbMove_DragDelta" HorizontalAlignment="Right" Width="9"></Thumb>
        <Grid Background="Bisque" HorizontalAlignment="Left" Width="28">
            <Button Name="btnDeleteFilePanel" Height="28" VerticalAlignment="Top" Click="btnDeleteFilePanel_Click">X</Button>
            <Button Name="btnClone" Margin="0,34,0,0" Height="25" VerticalAlignment="Top">C</Button>
            
        </Grid>
        <Grid Background="Plum" Margin="34,0,12,0">
            <UniformGrid Background="Sienna" Name="ugDrives" Height="28" Columns="0" Rows="1" VerticalAlignment="Top"></UniformGrid>
            <Grid Background="Orange" Name="grdPath" Height="26" Margin="0,35,0,0" VerticalAlignment="Top">
                <Button HorizontalAlignment="Left" Width="27" Click="Button_Click">B</Button>
                <Button Margin="33,0,0,0" HorizontalAlignment="Left" Width="26">U</Button>
                <Button Margin="65,0,0,0" HorizontalAlignment="Left" Width="25">F</Button>
                <TextBox Name="txtPath" Margin="96,0,27,0" Text="{Binding SelectedDirectory, Converter={StaticResource ets}, ElementName=dirTree, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></TextBox>
                <Button HorizontalAlignment="Right" Width="29">G</Button>
            </Grid>
            <ScrollViewer Margin="0,70,0,0">
            <Grid Name="grdFileList">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="112*" />
                    <ColumnDefinition Width="128*" />
                </Grid.ColumnDefinitions>
                <ucc:DirectoryTree x:Name="dirTree" Grid.Column="0" AutoCollapse="True" SizeChanged="dirTree_SizeChanged"  />
                <GridSplitter Width="9" />
                <ucc:FileList x:Name="flist" Grid.Column="1" ViewMode="vmGrid"
                        SortBy="sortByLastWriteTime" 
                        CurrentDirectory="{Binding SelectedDirectory, ElementName=dirTree, Mode=TwoWay}" />
            </Grid>
            </ScrollViewer>
        </Grid>
    </Grid>
</UserControl>
